<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>食堂采购</title>
    <link rel="stylesheet" href="/webjars/bootstrap/5.1.3/css/bootstrap.min.css">
    <script src="webjars/bootstrap/5.1.3/js/bootstrap.min.js"></script>
</head>
<body>
    <h1>食堂采购管理</h1>
    <a th:href="@{insert}">添加</a>
    <form class="form-inline" th:action="@{'/food'}" method="post">
        <div class="form-group" style="height: 50px;width: 300px">
            <label for="exampleInputName2">名称</label>
            <input type="text" class="form-control" id="exampleInputName2" name="name">
        </div>
        <div class="form-group" style="height: 50px;width: 300px;">
            <label for="exampleInputType">类别</label>
            <input type="text" class="form-control" id="exampleInputType" name="type">
        </div>
        <button type="submit" class="btn btn-default">搜索</button>
    </form>
    <table class="table table-bordered">
        <tr>
            <td>编号</td>
            <td>食材名</td>
            <td>类别</td>
            <td>单价</td>
            <td>采购人</td>
            <td>采购时间</td>
            <td>操作</td>
        </tr>
        <tr th:each="food:${foodList}">
            <td th:text="${food.id}"></td>
            <td th:text="${food.name}"></td>
            <td th:text="${food.type}"></td>
            <td th:text="${food.price}"></td>
            <td th:text="${food.buyer}"></td>
            <td th:text="${#dates.format(food.buyTime, 'yyyy-MM-dd HH:mm:ss')}"></td>
            <td>
                <a th:href="@{'/delete'(id=${food.id})}" onclick="deleteById()">删除</a>
            </td>
        </tr>
        <tr colspan="7">
            共有<span th:text="${foodList.size()}"></span>条数据
        </tr>
    </table>
<script>
    function deleteById() {
        if (confirm("确定删除此数据嘛")){
            return true;
        }else {
         return false;
        }
    }
</script>
</body>
</html>